<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset="utf8">
  <title>all together 0</title>

  <style>
    .centered {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style>

  <script id='logic'>
    /**
     * determines if a value is truthy or falsy
     * @param {any} x - the value to check for truthiness
     * @returns {string}
     */
    function findTruthiness(x) {
      // no need to check the type of x, it can be anything!

      const xToBoolean = Boolean(x);

      let result = '';
      if (xToBoolean === true) {
        result = 'truthy';
      } else {
        result = 'falsy';
      }

      if (typeof result !== 'string') { throw new TypeError(); }
      return result;
    }

  </script>

  <script id='tests'>
    console.log('testing: findTruthiness ');
    debugger;

    const _1_expect = 'truthy';
    const _1_actual = findTruthiness('any non-empty string');
    console.assert(_1_actual === _1_expect, 'Test 1');

    const _2_expect = 'falsy';
    const _2_actual = findTruthiness('');
    console.assert(_2_actual === _2_expect, 'Test 2');

    const _3_expect = 'truthy';
    const _3_actual = findTruthiness(-1); // numbers that aren't zero
    console.assert(_3_actual === _3_expect, 'Test 3');

    const _4_expect = 'falsy';
    const _4_actual = findTruthiness(0);
    console.assert(_4_actual === _4_expect, 'Test 4');

    const _5_expect = 'falsy';
    const _5_actual = findTruthiness(NaN);
    console.assert(_5_actual === _5_expect, 'Test 5');
  </script>

  <script id='handler'>
    function findTruthinessHandler() {
      debugger;

      const type = prompt('enter a type: \nstring, number, boolean, undefined, object');

      let value;
      if (type === 'undefined') {
        value = undefined;
      } else if (type === 'object') {
        value = null;
      } else if (type === 'boolean') {
        value = confirm('"ok" for true, "cancel" for false');
      } else if (type === 'string') {
        value = prompt('enter the text for your string') || '';
      } else if (type === 'number') {
        value = Number(prompt('enter your number'));
      } else {
        alert(`invalid type: ${type}`);
        // early return.
        // leave the handler function without executing the rest of the code
        return;
      }

      const truthiness = findTruthiness(value);

      alert(`type: ${type} \nvalue: ${value} \ntruthiness: ${truthiness}`);

      console.log('-- user interaction --');
      console.log('type:', typeof type, '\n', type);
      console.log('value:', typeof value, '\n', value);
      console.log('truthiness:', typeof truthiness, '\n', truthiness);
    }
  </script>
</head>

<body>
  <section id='user-interface' class='centered'>
    <button onclick='findTruthinessHandler()'>discover if a value is truthy or falsy</button>
  </section>
</body>

</html>
